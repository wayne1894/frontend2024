<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .err{
            color: red;
            margin-left: 50px;
            display: none;
        }
        .err.open{
            display: block;
        }
    </style>
</head>
<body>
   <form id="form" method="post" action="http://localhost:3000/submit">
    <!-- onsubmit="return submitForm()" -->
      <div>
         <label for="name">姓名：</label>
         <input id="name" name="name" size="30" maxlength="30" type="text" value="wayne" required>
         <div class="err">你的名字太短了</div>
      </div>
      <div>
        <label for="email">email：</label>
        <input id="email" name="email" size="30" maxlength="50" type="email" placeholder="請輸入email" required>
      </div>
      <input type="submit" value="送出">
   </form>
   <script>
      document.addEventListener("DOMContentLoaded",()=>{
        //alert(id("name").value)
        //id("name").value = "我是 wayne (寫入)";

        id("form").addEventListener("submit",(event)=>{
            document.querySelector(".err").classList.remove("open");
            event.preventDefault();
            if(id("name").value.length<3){
                document.querySelector(".err").classList.add("open")
                return
            }
            id("form").submit();
            //alert("我submit")
        })
      })

      function submitForm(){
        if(id("name").value.length<3){
            alert("你的名字太短了");
            return false;
        }
       return true;
      }

      function id(a){
        return document.getElementById(a);
      }

   </script>
</body>
</html>